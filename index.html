<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Demo</title>
<style>
html,body{
margin:0;
padding:0;
width:100%;
height:100%;
background:#1a1a1a;
font-family:monospace;
overflow:hidden;
transition:background 1s
}
#player{
width:14px;
height:14px;
background:#e0e0e0;
position:absolute;
left:50%;
top:50%;
transform:translate(-50%,-50%);
transition:background .5s
}
#text{
position:absolute;
bottom:20px;
width:100%;
text-align:center;
color:#aaa;
font-size:13px;
letter-spacing:1px;
opacity:.8
}
#shadow{
position:absolute;
width:14px;
height:14px;
background:#000;
opacity:0;
pointer-events:none
}
</style>
</head>
<body>

<div id="player"></div>
<div id="shadow"></div>
<div id="text">Explora</div>

<script>
const player=document.getElementById("player")
const shadow=document.getElementById("shadow")
const text=document.getElementById("text")

let px=innerWidth/2
let py=innerHeight/2
let vx=0
let vy=0
let speed=0.4
let time=0
let calm=true
let drift=0

let keys={}
document.addEventListener("keydown",e=>keys[e.key]=true)
document.addEventListener("keyup",e=>keys[e.key]=false)

function update(){
time++

if(keys["w"])vy-=speed
if(keys["s"])vy+=speed
if(keys["a"])vx-=speed
if(keys["d"])vx+=speed

vx*=0.92
vy*=0.92

px+=vx
py+=vy

player.style.left=px+"px"
player.style.top=py+"px"

if(time>600 && calm){
text.innerText=""
calm=false
}

if(time>900){
drift+=0.0005
px+=Math.sin(time*0.01)*drift*10
py+=Math.cos(time*0.01)*drift*10
}

if(time>1200){
document.body.style.background="#141414"
}

if(time>1500){
shadow.style.opacity=0.15
shadow.style.left=(px-20)+"px"
shadow.style.top=(py-20)+"px"
}

if(time>1800){
player.style.background="#cfcfcf"
}

if(time>2200){
shadow.style.left=(px+Math.sin(time*0.05)*30)+"px"
shadow.style.top=(py+Math.cos(time*0.05)*30)+"px"
}

if(time>2600){
text.innerText="no era necesario moverte tanto"
}

requestAnimationFrame(update)
}

update()
</script>

</body>
</html>
